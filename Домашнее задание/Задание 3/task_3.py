from peco.peco import *

# Обработка лишних пробелов, включая обработку комментариев
ws = many(eat(r'\s+|#.*|{-[^}]+-}'))

# Сканирование кода, повышающее производительность вычислений
scan = lambda f: memo(seq(ws, f))

# Пропуск того, что передано как аргумент (регулярка)
skip = lambda c: scan(eat(c))

# Кладёт распознанное в стек с помощью cite(*args)
tok = lambda c: scan(cite(eat(c)))

